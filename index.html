<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Consigue Monedas - USD</title>
<style>
  :root{
    --bg:#f6f6f6; --card:#fff; --accent:#ff4966; --muted:#9b9b9b;
    --shadow: 0 6px 18px rgba(0,0,0,0.06);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  body{margin:0;background:var(--bg); color:#111;}
  .app{max-width:420px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;}
  header{background:var(--card);padding:14px 16px;box-shadow:var(--shadow);position:sticky;top:0;z-index:10;border-bottom-left-radius:12px;border-bottom-right-radius:12px;}
  header h1{text-align:center;margin:0;font-size:20px;font-weight:700;}
  .search-box{margin-top:10px;text-align:center;}
  .search-box input{padding:10px;width:70%;border:1px solid #ddd;border-radius:10px;font-size:15px;}
  .search-box button{padding:10px 16px;border:none;border-radius:10px;background:var(--accent);color:white;font-weight:600;cursor:pointer;margin-left:6px;}
  main{padding:16px;flex:1;}
  .user-card{background:var(--card);padding:12px;border-radius:12px;display:flex;gap:12px;align-items:center;box-shadow:var(--shadow);margin-top:16px;}
  .avatar{width:48px;height:48px;border-radius:50%;background:#ddd;overflow:hidden;display:flex;align-items:center;justify-content:center;}
  .avatar img{width:100%;height:100%;object-fit:cover;}
  .user-info{flex:1;}
  .user-info strong{display:block;}
  .section{margin-top:16px;background:var(--card);padding:14px;border-radius:12px;box-shadow:var(--shadow);}
  .options{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px;}
  .opt{background:#f2f2f2;padding:12px;border-radius:10px;text-align:center;cursor:pointer;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:72px;}
  .opt.selected{background:#fff;border-color:var(--accent);box-shadow:0 4px 12px rgba(255,73,102,0.12);}
  .opt .coins{font-weight:700;font-size:18px;display:inline-flex;align-items:center;gap:6px;}
  .opt .coins img{width:28px;height:28px;vertical-align:middle;border-radius:6px;background:#fff;padding:2px;}
  .opt .price{font-size:12px;color:var(--muted);margin-top:6px;}
  .row{display:flex;align-items:center;justify-content:space-between;margin-top:12px;}
  .btn{display:inline-block;padding:14px 20px;border-radius:12px;text-align:center;font-weight:700;background:var(--accent);color:white;border:none;cursor:pointer;box-shadow:0 6px 14px rgba(255,73,102,0.12);width:100%;}
  .btn.secondary{background:#fff;color:#111;border:1px solid #e8e8e8;box-shadow:none;font-weight:600;padding:8px 12px;}
  .small{font-size:13px;color:var(--muted);}
  footer{padding:12px;position:sticky;bottom:0;background:transparent;}
  .screen{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,0.35);display:none;align-items:flex-end;justify-content:center;padding:12px;z-index:50;}
  .sheet{background:var(--card);width:100%;max-width:720px;border-radius:16px 16px 0 0;padding:12px;box-shadow:var(--shadow);}
  .keyboard{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:12px;}
  .key{background:#f2f2f2;padding:16px;border-radius:10px;text-align:center;font-weight:700;font-size:18px;cursor:pointer;user-select:none;}
  .key:active{background:#e8e8e8;}
  .payment-option{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid #eee;}
  .payment-option img{height:22px;margin-right:8px;}
  .payment-option label{flex:1;font-weight:500;}
  .payment-option input[type="radio"]{width:18px;height:18px;accent-color:var(--accent);}

  /* Loading / Completed screens */
  .loading-screen {
    position: fixed;
    inset: 0;
    background: #fff;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 150;
    text-align: center;
  }
  .spinner {
    border: 5px solid #f3f3f3;
    border-top: 5px solid var(--accent);
    border-radius: 50%;
    width: 70px;
    height: 70px;
    animation: spin 1s linear infinite;
    margin-bottom: 18px;
  }
  @keyframes spin {0%{transform:rotate(0);}100%{transform:rotate(360deg);}}
  .check {
    color: #00c853;
    font-size: 72px;
    margin-bottom: 10px;
    animation: pop 0.4s ease;
  }
  @keyframes pop {0%{transform:scale(0.5);opacity:0;}100%{transform:scale(1);opacity:1;}}

  /* small responsive */
  @media (max-width:420px){
    .container-inner{padding:12px;}
    .opt .coins img{width:22px;height:22px;}
  }
</style>
</head>
<body>
<div class="app" id="app">
  <header>
    <h1>Consigue Monedas</h1>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Escribe un nombre..." />
      <button id="searchBtn">Buscar</button>
    </div>
  </header>

  <main>
    <div class="user-card">
      <div class="avatar"><img src="https://i.postimg.cc/0MGPmm9W/tiktok.png" alt="avatar"></div>
      <div class="user-info">
        <strong id="username">maurocifuentes82</strong>
        <div class="small">0 | LXJMMHGN</div>
      </div>
      <div style="align-self:flex-start;"><button class="btn secondary" id="addBtn">⚙</button></div>
    </div>

    <div class="section">
      <div style="font-weight:700;">Recarga</div>
      <div class="small" style="margin-top:6px;color:#ff4959;">Ahorra un 25 % con una tarifa de servicio de terceros más baja.</div>

      <div class="row" style="margin-top:14px;">
        <div class="small">Oferta especial</div>
        <div style="color:var(--accent);font-weight:700;">Desbloquea un reembolso del 5 %</div>
      </div>

      <div class="options" id="options">
        <div class="opt" data-coins="30" data-price="0.33"><div class="coins"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="">30</div><div class="price">USD 0.33</div></div>
        <div class="opt" data-coins="2000" data-price="22"><div class="coins"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="">2,000</div><div class="price">USD 22.00</div></div>
        <div class="opt" data-coins="2500" data-price="27.5"><div class="coins"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="">2,500</div><div class="price">USD 27.50</div></div>
        <div class="opt" data-coins="4500" data-price="49.5"><div class="coins"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="">4,500</div><div class="price">USD 49.50</div></div>
        <div class="opt" data-coins="6000" data-price="66"><div class="coins"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="">6,000</div><div class="price">USD 66.00</div></div>
        <div class="opt" id="customBtn" style="font-weight:700;">Personalizar</div>
      </div>
    </div>
  </main>

  <footer>
    <div style="max-width:420px;margin:0 auto;">
      <div style="background:#fff;padding:12px;border-radius:12px;box-shadow:var(--shadow);display:flex;align-items:center;justify-content:space-between;">
        <div>
          <div style="font-weight:700;" id="selectedCoinsLabel">30 Monedas</div>
          <div class="small">USD <span id="selectedPrice">0.33</span></div>
        </div>
        <div style="width:58%;">
          <button class="btn" id="buyBtn"><img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" alt="" style="width:18px;vertical-align:middle;margin-right:6px;">Comprar por USD 0.33</button>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Personalizar (sheet) -->
<div class="screen" id="customScreen">
  <div class="sheet">
    <div style="display:flex;align-items:center;gap:8px;">
      <button id="closeCustom" class="btn secondary" style="width:auto;">←</button>
      <div style="font-weight:700;font-size:18px;">Personalizado</div>
    </div>
    <div style="margin-top:12px;">
      <div style="font-size:14px;color:var(--muted);">Número de Monedas</div>
      <div id="customCoinsDisplay" style="font-size:28px;font-weight:800;margin-top:4px;">0</div>
      <div id="customPriceDisplay" class="small" style="margin-top:4px;">USD 0.00</div>
    </div>
    <div class="keyboard">
      <div class="key">1</div><div class="key">2</div><div class="key">3</div>
      <div class="key">4</div><div class="key">5</div><div class="key">6</div>
      <div class="key">7</div><div class="key">8</div><div class="key">9</div>
      <div class="key" id="delKey">⌫</div><div class="key">0</div><div class="key">000</div>
    </div>
    <button class="btn" id="confirmCustom" style="margin-top:14px;">Recargar</button>
  </div>
</div>

<!-- Resumen del pedido -->
<div class="screen" id="summaryScreen">
  <div class="sheet">
    <button id="closeSummary" class="btn secondary" style="width:auto;padding:6px 10px;font-size:14px;">←</button>
    <h3 style="text-align:center;margin:10px 0;">Resumen del pedido</h3>
    <div style="background:#f9f9f9;padding:10px;border-radius:10px;margin-top:8px;">
      <strong>Cuenta:</strong> <span id="summaryUser"></span><br>
      <strong>Compra de:</strong> <span id="summaryCoins"></span> Monedas<br>
      <strong>USD </strong><span id="summaryPrice"></span>
    </div>
    <div style="margin-top:14px;font-weight:700;">Método de pago</div>
    <div class="payment-option"><img src="https://i.postimg.cc/1n0s66y7/paypal.png" alt="PayPal"><label>PayPal</label><input type="radio" name="paymethod" checked></div>
    <div class="payment-option"><img src="https://i.postimg.cc/47vsttXF/card.png" alt="Tarjeta"><label>Tarjeta Crédito/Débito</label><input type="radio" name="paymethod"></div>
    <div class="payment-option"><img src="https://i.postimg.cc/5Y5bvvfg/applepay.png" alt="Apple Pay"><label>Apple Pay</label><input type="radio" name="paymethod"></div>
    <div style="text-align:right;font-weight:700;margin-top:12px;">Total: USD <span id="summaryTotal"></span></div>
    <button class="btn" id="payNowBtn" style="margin-top:10px;">Pagar ahora</button>
  </div>
</div>

<!-- Loading screen -->
<div class="loading-screen" id="loadingScreen">
  <div class="spinner"></div>
  <h2 id="loadingText">Processing...</h2>
</div>

<!-- Completed screen -->
<div class="loading-screen" id="completedScreen">
  <div class="check">✔</div>
  <h2>Purchase Completed</h2>
  <p id="coinsText"></p>
  <p id="refText"></p>
  <p>It will be reflected in your account within 1 to 24 hours.</p>
  <button class="btn" id="btnVolver">Return Home</button>
</div>

<script>
(function(){
  const RATE = 0.011;
  const fmt = v => Number(v).toLocaleString("en-US", {minimumFractionDigits:2, maximumFractionDigits:2});
  const optionEls = Array.from(document.querySelectorAll('.opt'));
  const selectedCoinsLabel = document.getElementById('selectedCoinsLabel');
  const selectedPrice = document.getElementById('selectedPrice');
  const buyBtn = document.getElementById('buyBtn');
  const usernameEl = document.getElementById('username');
  const searchBtn = document.getElementById("searchBtn");
  const searchInput = document.getElementById("searchInput");
  let currentCoins = 30, currentPrice = 0.33;

  function setSelected(el){
    optionEls.forEach(o=>o.classList.remove('selected'));
    el.classList.add('selected');
    currentCoins = parseInt(el.dataset.coins||'0',10);
    currentPrice = parseFloat(el.dataset.price||'0');
    selectedCoinsLabel.textContent = currentCoins + " Monedas";
    selectedPrice.textContent = fmt(currentPrice);
    buyBtn.innerHTML = `<img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" style="width:18px;vertical-align:middle;margin-right:6px;">Comprar por USD ${fmt(currentPrice)}`;
  }
  // inicial
  setSelected(optionEls[0]);
  optionEls.forEach(el=> el.addEventListener('click', ()=> {
    if(el.id === 'customBtn') {
      document.getElementById('customScreen').style.display = 'flex';
      enteredCoins = "";
      updateDisplay();
      return;
    }
    setSelected(el);
  }));

  searchBtn.addEventListener("click", () => {
    const newName = searchInput.value.trim();
    if (!newName) return;
    usernameEl.textContent = newName;
  });

  // Personalizar
  const customScreen = document.getElementById("customScreen");
  const closeCustom = document.getElementById("closeCustom");
  const customCoinsDisplay = document.getElementById("customCoinsDisplay");
  const customPriceDisplay = document.getElementById("customPriceDisplay");
  const confirmCustom = document.getElementById("confirmCustom");
  const keys = document.querySelectorAll(".key");
  let enteredCoins = "";

  function updateDisplay(){
    const coins = parseInt(enteredCoins || "0",10);
    customCoinsDisplay.textContent = coins.toLocaleString("en-US");
    customPriceDisplay.textContent = "USD " + fmt(coins * RATE);
  }

  closeCustom.addEventListener("click", ()=>{customScreen.style.display="none";});

  keys.forEach(k=>{
    k.addEventListener("click", ()=>{
      const val = k.textContent.trim();
      if(val === "⌫"){
        enteredCoins = enteredCoins.slice(0,-1);
      } else {
        const temp = (enteredCoins + val).replace(/^0+/, '');
        // tope 10,000,000
        if (parseInt(temp || "0",10) <= 10000000) enteredCoins = temp;
      }
      updateDisplay();
    });
  });

  confirmCustom.addEventListener("click", ()=>{
    const coins = parseInt(enteredCoins || "0",10);
    if(!coins || coins <= 0){ customScreen.style.display="none"; return; }
    const price = coins * RATE;
    selectedCoinsLabel.textContent = coins + " Monedas";
    selectedPrice.textContent = fmt(price);
    buyBtn.innerHTML = `<img src="https://i.postimg.cc/2bdrvvCH/moneda.webp" style="width:18px;vertical-align:middle;margin-right:6px;">Comprar por USD ${fmt(price)}`;
    currentCoins = coins; currentPrice = price;
    optionEls.forEach(o=>o.classList.remove('selected'));
    customScreen.style.display="none";
  });

  // Resumen
  const summaryScreen=document.getElementById("summaryScreen");
  const closeSummary=document.getElementById("closeSummary");
  const summaryUser=document.getElementById("summaryUser");
  const summaryCoins=document.getElementById("summaryCoins");
  const summaryPrice=document.getElementById("summaryPrice");
  const summaryTotal=document.getElementById("summaryTotal");
  const payNowBtn=document.getElementById("payNowBtn");

  buyBtn.addEventListener("click", ()=>{
    summaryUser.textContent = usernameEl.textContent;
    summaryCoins.textContent = currentCoins.toLocaleString("en-US");
    summaryPrice.textContent = fmt(currentPrice);
    summaryTotal.textContent = fmt(currentPrice);
    summaryScreen.style.display = "flex";
  });
  closeSummary.addEventListener("click", ()=>{summaryScreen.style.display="none";});

  // Flujo pago
  const loadingScreen=document.getElementById("loadingScreen");
  const loadingText=document.getElementById("loadingText");
  const completedScreen=document.getElementById("completedScreen");
  const btnVolver=document.getElementById("btnVolver");

  payNowBtn.addEventListener("click", ()=>{
    summaryScreen.style.display="none";
    loadingScreen.style.display="flex";
    loadingText.textContent="Processing...";
    setTimeout(()=>{loadingText.textContent="Verifying payment...";},2000);
    setTimeout(()=>{
      loadingScreen.style.display="none";
      completedScreen.style.display="flex";

      const ref = "REF-" + Math.floor(1000000 + Math.random() * 9000000) + "-2025";
      document.getElementById("coinsText").textContent = `You recharged ${currentCoins.toLocaleString("en-US")} coins.`;
      document.getElementById("refText").textContent = `Reference Number: ${ref}`;
    },4000);
  });

  btnVolver.addEventListener("click", ()=>{
    completedScreen.style.display="none";
    window.scrollTo({top:0,behavior:"smooth"});
  });
})();
</script>
</body>
</html>
